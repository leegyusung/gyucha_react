let express,morgan,api,mongoose,cookieParser,passportConfig,passport,session;_062‍.w("express",[["default",["express"],function(v){express=v}]]);_062‍.w("morgan",[["default",["morgan"],function(v){morgan=v}]]);_062‍.w("../src/api/index",[["default",["api"],function(v){api=v}]]);_062‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_062‍.w("cookie-parser",[["default",["cookieParser"],function(v){cookieParser=v}]]);_062‍.w("./lib/passport/index",[["default",["passportConfig"],function(v){passportConfig=v}]]);_062‍.w("passport",[["default",["passport"],function(v){passport=v}]]);_062‍.w("express-session",[["default",["session"],function(v){session=v}]]);require('dotenv').config();









const app = express();
passportConfig();
const { PORT, MONGO_URI } = process.env;
mongoose.connect(MONGO_URI)
    .then(() => {
        console.log('Connected MongoDB')
    })
    .catch((err) => {
        _062‍.g.console.log(err)
    })

app.use(session({
    secret: 'secret',
}));

app.use(passport.initialize());
app.use(passport.session());

app.use(morgan('dev'));
app.use(express.json());
app.use(cookieParser());
app.use(express.urlencoded({ extended: false }));

app.use('/api', api);

const port = PORT || 4000;
app.listen(port, () => {
    console.log(`${port} 포트 사용중`);
})


